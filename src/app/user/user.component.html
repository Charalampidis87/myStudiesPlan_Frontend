<html>

<head>
  <title>User</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<!--NAVIGATION MENU-->

<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <a routerLink="/admin" class="navbar-brand" href="#"><img src="../../assets/img/logo_white_background.png"  height="40"></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item nav-link" routerLink="/admin">Μαθήματα</li>
      <li class="nav-item nav-link active" routerLink="/user">Χρήστες</li>
    </ul>
    <ul class="navbar-nav ml-auto">
      <li class="nav-item nav-link"><span class="fa fa-user-circle"></span> Διαχειριστής</li>
      <li class="nav-item nav-link" routerLink="/" (click)="logout()"><span class="fa fa-sign-out"></span> Αποσύνδεση</li>
    </ul>
  </div>
</nav>

<!--NAVIGATION MENU END-->

<div class="container" style="margin-top: 100px;">
  <div class="table-wrapper">
    <div class="table-title">
      <div class="row">
        <div class="col-sm-5">
          <h2>Λίστα Χρηστών</h2>
        </div>
      </div>
    </div>
    <table class="table table-striped table-hover">
      <thead>
      <tr>
        <th>#</th>
        <th>Όνομα</th>
        <th>Email</th>
<!--        <th>Ρόλος</th>-->
        <th>Status</th>
        <th>Διαγραφή</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let pageUser of pageUsers; let i=index">
        <td>{{i+(currentPage*numOfShowUsers)-(numOfShowUsers-1)}}</td>
        <td><a>{{pageUser.name}} {{pageUser.surname}}</a></td>
        <td>{{pageUser.email}}</td>
<!--        <td *ngIf="pageUser.role == 0">Χρήστης</td>-->
<!--        <td *ngIf="pageUser.role == 1">Διαχειριστής</td>-->
        <td><span class="status text-success">&bull;</span> Active</td>
        <td>
          <a class="delete" title="Διαγραφή" data-toggle="modal" data-target="#delete" (click)="selectUser(pageUser)"><i class="fa fa-times-circle"></i></a>
        </td>
        <!--The Modal-->
        <div class="modal fade" id="delete">
          <div class="modal-dialog modal-confirm">
            <div class="modal-content">
              <div class="modal-header">
                <div class="icon-box">
                  <i class="material-icons">&times;</i>
                </div>
                <h4 class="modal-title">Διαγραφή</h4>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              </div>
              <div class="modal-body">
                <p>Ο χρήστης <span>{{this.selectedUser.name}} {{this.selectedUser.surname}}</span> πρόκειται να διαγραφει!</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal">Ακύρωση</button>
                <button type="button" class="btn btn-danger" (click)="deleteUser(this.selectedUser)"
                        data-dismiss="modal">Διαγραφή
                </button>
              </div>
            </div>
          </div>
        </div>
      </tr>
      </tbody>
    </table>
    <div class="clearfix">
      <div class="hint-text">Showing <b>{{pageUsers.length}}</b> out of <b>{{users.length}}</b> entries</div>
      <ul class="pagination" *ngIf="allPages <= 6; else many_pages">
        <li class="page-item first" *ngIf="currentPage != 1"><a class="page-link" (click)="first()">Πρώτη</a></li>
        <li class="page-item previous"><a class="page-link" (click)="previous()">Προηγούμενη</a></li>
        <div *ngFor="let page of allPagesArr">
          <li class="page-item active" *ngIf="page == currentPage; else not_active"><a class="page-link" (click)="changePage(page)">{{page}}</a></li>
          <ng-template #not_active>
            <li class="page-item"><a class="page-link" (click)="changePage(page)">{{page}}</a></li>
          </ng-template>
        </div>
        <!--<li class="page-item"><a href="#" class="page-link">2</a></li>-->
        <!--<li class="page-item active"><a href="#" class="page-link">3</a></li>-->
        <!--<li class="page-item"><a href="#" class="page-link">4</a></li>-->
        <!--<li class="page-item"><a href="#" class="page-link">5</a></li>-->
        <li class="page-item next"><a class="page-link" (click)="next()">Επόμενη</a></li>
        <li class="page-item next" *ngIf="currentPage != allPagesArr.length"><a class="page-link" (click)="last()">Τελευταία</a></li>
      </ul>
      <ng-template #many_pages>
        <ul class="pagination">
          <li class="page-item first" *ngIf="currentPage != 1"><a class="page-link" (click)="first()">Πρώτη</a></li>
          <li class="page-item previous"><a class="page-link" (click)="previous()">Προηγούμενη</a></li>
          <li *ngIf="currentPage-3 >= 1">...</li>
          <div *ngFor="let page of nearPages">
            <li class="page-item active" *ngIf="page == currentPage; else not_active"><a class="page-link" (click)="changePage(page)">{{page}}</a></li>
            <ng-template #not_active>
              <li class="page-item"><a class="page-link" (click)="changePage(page)">{{page}}</a></li>
            </ng-template>
          </div>
<!--          <div *ngIf="currentPage-4 < 1 && currentPage+4 > allPagesArr.length">-->
<!--            <div *ngFor="let page of allPagesArr">-->
<!--              <li class="page-item active" *ngIf="page == currentPage; else not_active"><a class="page-link" (click)="changePage(page)">{{page}}</a></li>-->
<!--              <ng-template #not_active>-->
<!--                <li class="page-item"><a class="page-link" (click)="changePage(page)">{{page}}</a></li>-->
<!--              </ng-template>-->
<!--            </div>-->
<!--          </div>-->
          <li *ngIf="currentPage+3 <= allPagesArr.length">...</li>
          <li class="page-item next"><a class="page-link" (click)="next()">Επόμενη</a></li>
          <li class="page-item next" *ngIf="currentPage != allPagesArr.length"><a class="page-link" (click)="last()">Τελευταία</a></li>
        </ul>
      </ng-template>
    </div>
  </div>
</div>
</body>
